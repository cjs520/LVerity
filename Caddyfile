:8081 {
    # 启用 CORS
    header {
        Access-Control-Allow-Origin *
        Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
        Access-Control-Allow-Headers "Origin, Content-Type, Authorization"
        Access-Control-Allow-Credentials true
    }

    # API 反向代理
    handle /api/* {
        reverse_proxy backend:8080
    }

    # 静态文件服务
    handle {
        root * /usr/share/caddy
        try_files {path} /index.html
        file_server
    }

    # 基本设置
    encode gzip
    log {
        output stdout
        format console
    }
}
